---
title: Brush Interaction in D3
layout: post
output:
  md_document:
    preserve_yaml: true
---

1. When we are interactively defining a graphical query, it’s often useful to be able to specify a range of values of interest.For example, brushes can be used for dynamically linking two plots, like in these linked scatterplots,

	or this linked time series plot.

	Brushing can also be used to implement the focus + context principle through a zoom widget,

2. We learned how to create a brush in these notes. How can we use the brush to define a query? Unfortunately, unlike in Shiny, there is no function that returns the indices of the samples lying under the brush. Instead, the brush only returns the pixel coordinates of the brush corners.
3. To use these pixel coordinates to define a queries, we have to map our original data values into pixel coordinates. If the mapped values are within the region specified by the brush, we can say that they have been selected. For example, to find the penguins whose beak length and depth lie within the range specified by a brush, we used the following code,

4. We use almost the same trick for the dynamically linked time series. For each time series, we check whether *any* of the points that define it lies within the bounds created by the brush.

5. We can compose brush queries in original ways. For example, in the example below, we’re highlighting points if they lie within both brush selections (not the union, like in our previous example).
