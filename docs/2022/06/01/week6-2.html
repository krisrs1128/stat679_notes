<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content=""><title>Click and Hover Interaction in D3 (Part 1) | Statistical Data Visualization</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/languages/r.min.js"></script>
<script>hljs.highlightAll();</script>

  <meta name="keywords" content="">
  <meta name="description" content=""><link rel="stylesheet" href="/stat679_notes/assets/main.css?v=0.3.3" />
<script src="/stat679_notes/assets/main.js?v=0.3.3" defer></script><link rel="stylesheet" href="/stat679_notes/assets/css/tomorrow.css" />
<script src="/stat679_notes/assets/js/highlight.js"></script><script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script><script src="https://unpkg.com/mermaid@7.1.0/dist/mermaid.min.js" defer></script></head>
<body class="body-post">
    <a href="/stat679_notes/" class="logo"><h1>Statistical Data Visualization</h1>
</a><main class="post__wrapper"><div class="post__top_navs clearfix">
    <nav class="post__archive_path"><a href="" id="archiveBtn">
        <div class="post__archive_icon">
          <svg width="40" height="40">
            <circle class="circle-progress" r="18" cy="20" cx="20"  stroke-linejoin="round" stroke-linecap="round" />
          </svg>
          <span class="post__archive_icon"></span>
        </div>
        Statistical Data Visualization
      </a>
    </nav>
  </div>
  <article class="post">
    <header class="post__header">
      <h1 class="post__title">Click and Hover Interaction in D3 (Part 1)</h1>
      <div class="post__meta">
        <time>2022-06-01 00:00</time>
      </div>
    </header>
    <div class="post__content content">
      <ol>
  <li>In the previous notes, we saw how user can supply interactions using D3 event
listeners. Here, we’ll see how to design interactive visualizations that respond
to mouse click and hover events.</li>
  <li>We’ll work with the movie ratings dataset, which we previously used when
introducing interactivity in Shiny. The code here makes a static scatterplot for
these data, without implementing any interactivity.</li>
  <li>Let’s first consider how to implement a tooltip using hover events. A
tooltip provides “detailed-on-demand” when the user indicates interest in a
specific elements of a visualization. In our application, we’ll display the
movie name whenever the user hovers over a point in the scatterplot. However, in
principle, any pieces of information could be revealed.</li>
  <li>To implement this type of interactivity, we first listen for anytime the user
hovers over a movie.</li>
  <li>Next, we create the text that will contain the movie names. Whenever a hover
event occurs, we will need to (i) change the text of the tooltip and (ii) move
the tooltip to the location of the current point.</li>
  <li>To change the text of the tooltip, we can apply <code class="language-plaintext highlighter-rouge">.text()</code> to the current data
selection. We move the tooltip using a translation of the parent <code class="language-plaintext highlighter-rouge">div</code> element.</li>
  <li>If we want to display much more information about an item using hover events,
it can be useful to link the hovered item with a table.</li>
  <li>This can be accomplished using a mechanism similar to a tooltip. We again
track hover events and update text in a predefined HTML element (a <code class="language-plaintext highlighter-rouge">&lt;table&gt;</code> in
this case). In a way, this implementation is even simpler, because we don’t have
to move the text to user’s mouse location.</li>
  <li>Next, let’s consider click events. Imagine we wanted to allow select movie
genres by clicking elements of the legend, like in the visualization below,</li>
  <li>To implement this, we’ll use the same array-based logic as in our earlier
select-input-based gapminder visualization. That is, we’ll keep track of an
array of the currently selected genres and we’ll enter and exit datapoints
accordingly each time the array is changed.</li>
  <li>The main differences are that (i) we need to update the array based on
clicks on the rectangles that form the legend and (ii) when a rectangle is
clicked, we need to update not just the original plot, but also the legend that
defines it.</li>
  <li>To this end, we bind click listeners to these rectangles. At the start, all
the legend elements are considered selected, and the associated selection array
includes every genre. Whenever a rectangle is clicked, we modify the array,</li>
  <li>
    <p>After the array is modified, we then filter the data that defines the
scatterplot,</p>

    <p>exiting scatterplot circles accordingly. We also change the encoding of the
associated legend rectangle, to let the user know that the associated genre
has been deselected,</p>
  </li>
</ol>

    </div>
  </article></main><script>hljs.initHighlightingOnLoad();</script><footer class="site-footer">
  © 2022<a href="/stat679_notes/">Statistical Data Visualization</a>. Theme<a href="https://github.com/erlzhang/jekyll-theme-persephone" target="_blank">Persephone</a>
</footer>

  </body>
</html>
